{"version":3,"file":"static/webpack/static/development/pages/users.js.261d020618be50f3f7fb.hot-update.js","sources":["webpack:///./components/UsersTable.js"],"sourcesContent":["import TableTemplate from './TableTemplate';\nimport ModalLayout from './ModalLayout';\nimport {useEffect,useState} from 'react';\nimport axios from 'axios';\n\nexport default (props) => {\n    const loadingData =[{\n        id:0,\n        user:'Loading',\n        adminflag:'Loading',\n        password:'Loading'\n    }]\n    const [data,setData] = useState(loadingData);\n    ///when first loading pull all the users from database and display them\n    //const tableData = data.length===0? loadingData:data\n    useEffect(() => {\n        axios.get('/api/users')\n        .then(res => {\n            setData(res.data.map(row=>({ user: row.user,password: '******', adminflag: row.adminflag?'yes':'no' ,id: row.id })));\n        })\n        .catch(err => console.log('Error:',err))\n    },[]);\n    //to edit user info click on name and a pop up will ask you \n    const mymodal = (rowdata,text) => <>\n        {text}\n        <ModalLayout \n            buttonLocation='right' \n            buttonName='Remove' \n            icon='trash' \n            title='Delete user'\n            modalContent={<p>{`Are you sure you want to delete ${rowdata.user} account?`}</p>}\n            current={rowdata}\n        /></>\n    let headerData = [{\n        tableHeaderName:'user',\n        name: 'Username',\n        clickFunction: '',\n        haschildren: false,\n        children: ''\n    },\n    {\n        tableHeaderName:'password',\n        name: 'Password',\n        clickFunction: '',\n        haschildren: false,\n        children: ''\n    },\n    {\n        tableHeaderName:'adminflag',\n        name: 'Administrator',\n        clickFunction: '',\n        haschildren: true,\n        children: mymodal\n    }]\n    console.log('inside /dogs',props)\n    return <TableTemplate header={headerData} table={data} />\n};"],"mappings":";;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAJA;AACA;AAFA;AAAA;AAAA;AASA;AACA;AACA;AADA;AACA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AAGA;AACA;AACA;AACA;AACA;AACA;AANA;AAFA;AACA;AASA;AACA;AACA;AACA;AACA;AACA;AALA;AAQA;AACA;AACA;AACA;AACA;AALA;AAQA;AACA;AACA;AACA;AACA;AALA;AAOA;AACA;AAAA;AAAA;AAAA;AACA;;;;A","sourceRoot":""}