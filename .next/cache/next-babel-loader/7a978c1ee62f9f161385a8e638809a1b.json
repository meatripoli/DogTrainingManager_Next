{"ast":null,"code":"import React from \"react\";\nvar __jsx = React.createElement;\nimport { Table, Button, Icon } from 'semantic-ui-react';\nimport ModalLayout from '../components/ModalLayout';\nimport RegisterUser from '../components/RegisterUser';\nimport { useEffect, useState } from 'react';\nimport axios from 'axios';\n\nconst ModalContent = props => __jsx(\"p\", null, props.text);\n\nconst ModalAction = props => __jsx(Button, {\n  positive: true,\n  content: \"OK\",\n  onClick: props.handleButton\n});\n\nexport default (props => {\n  const loadingData = [{\n    id: 0,\n    user: 'Loading',\n    adminflag: 'Loading',\n    password: 'Loading'\n  }];\n  const {\n    0: data,\n    1: setData\n  } = useState([]); ///when first loading pull all the users from database and display them\n\n  const tableData = data.length === 0 ? loadingData : data;\n  useEffect(() => {\n    axios.get('/api/users').then(res => {\n      setData(res.data);\n    }).catch(err => console.log('Error:', err));\n  }, []); //to edit user info click on name and a pop up will ask you \n\n  return __jsx(Table, {\n    basic: \"very\",\n    striped: true,\n    sortable: true,\n    celled: true\n  }, __jsx(Table.Header, null, __jsx(Table.Row, null, __jsx(Table.HeaderCell, null, \"Username\"), __jsx(Table.HeaderCell, null, \"Password\"), __jsx(Table.HeaderCell, null, \"Admin\"))), __jsx(Table.Body, null, tableData.map(({\n    user,\n    adminflag,\n    id\n  }) => __jsx(Table.Row, {\n    key: id\n  }, __jsx(Table.Cell, null, user), __jsx(Table.Cell, null, \"******\"), __jsx(Table.Cell, null, adminflag, __jsx(ModalLayout, {\n    editmodalstate: props.tablemodalstate,\n    edithandleModal: props.tablehandleModal,\n    buttonLocation: \"right\",\n    buttonName: \"Edit\",\n    icon: \"pencil alternate\",\n    title: \"Edit user\",\n    modalContent: __jsx(RegisterUser, {\n      edittitle: \"Edit user\",\n      edituser: props.tableuser,\n      editinputchange: props.tableinputchange,\n      editcheckboxchange: props.tablecheckboxchange\n    }),\n    modalActions: __jsx(ModalAction, {\n      edithandleButton: props.tablehandleButton\n    })\n  }), __jsx(ModalLayout, {\n    deletemodalstate: props.tablemodalstate,\n    deletehandleModal: props.tablehandleModal,\n    buttonLocation: \"right\",\n    buttonName: \"Remove\",\n    icon: \"trash\",\n    title: \"Delete user\",\n    modalContent: __jsx(ModalContent, {\n      text: \"Are you sure you want to delete this account?\"\n    }),\n    modalActions: __jsx(ModalAction, {\n      deletehandleButton: props.tablehandleButton\n    })\n  }))))));\n});\n/*\ntablemodalstate={modalstate}\n            tablehandleModal={handleModal}\n            tablehandleButton={handleButton}\n            tableinputchange={handleInput}\n            tablecheckboxchange={handleCheckBox}\n            tableuser={user}\n*/","map":{"version":3,"sources":["/Users/meatripoli/ClassWork/FinalProject/components/Table.js"],"names":["Table","Button","Icon","ModalLayout","RegisterUser","useEffect","useState","axios","ModalContent","props","text","ModalAction","handleButton","loadingData","id","user","adminflag","password","data","setData","tableData","length","get","then","res","catch","err","console","log","map","tablemodalstate","tablehandleModal","tableuser","tableinputchange","tablecheckboxchange","tablehandleButton"],"mappings":"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","sourcesContent":["import { Table, Button, Icon } from 'semantic-ui-react';\nimport ModalLayout from '../components/ModalLayout';\nimport RegisterUser from '../components/RegisterUser';\nimport {useEffect,useState} from 'react';\nimport axios from 'axios';\n\nconst ModalContent = (props) => <p>{props.text}</p>;\nconst ModalAction = (props) => <Button positive content='OK' onClick={props.handleButton}/>\n\nexport default (props)=>{\n    const loadingData =[{\n        id:0,\n        user:'Loading',\n        adminflag:'Loading',\n        password:'Loading'\n    }]\n    const [data,setData] = useState([]);\n    ///when first loading pull all the users from database and display them\n    const tableData = data.length===0? loadingData:data\n    useEffect(() => {\n        axios.get('/api/users')\n        .then(res => {\n            setData(res.data);\n        })\n        .catch(err => console.log('Error:',err))\n    },[]);\n    //to edit user info click on name and a pop up will ask you \n    return(\n        <Table basic='very' striped sortable celled >\n            <Table.Header>\n                <Table.Row>\n                    <Table.HeaderCell\n                    //sorted={column === 'name' ? direction : null}\n                    //onClick={}\n                    >\n                    Username\n                    </Table.HeaderCell>\n                    <Table.HeaderCell\n                    //sorted={column === 'age' ? direction : null}\n                    //onClick={}\n                    >\n                    Password\n                    </Table.HeaderCell>\n                    <Table.HeaderCell\n                    //sorted={column === 'gender' ? direction : null}\n                    //onClick={}\n                    >\n                    Admin\n                    </Table.HeaderCell>\n                    \n                </Table.Row>\n            </Table.Header>\n            <Table.Body>\n            {tableData.map(({ user,adminflag,id }) => (\n                <Table.Row key={id}>\n                    <Table.Cell>{user}</Table.Cell>\n                    <Table.Cell>******</Table.Cell>\n                    <Table.Cell>\n                        {adminflag}\n                        <ModalLayout \n                            editmodalstate={props.tablemodalstate}\n                            edithandleModal={props.tablehandleModal}\n                            buttonLocation='right' \n                            buttonName='Edit' \n                            icon='pencil alternate' \n                            title='Edit user'\n                            modalContent={<RegisterUser edittitle='Edit user' edituser={props.tableuser} editinputchange={props.tableinputchange} editcheckboxchange={props.tablecheckboxchange}/>}\n                            modalActions={<ModalAction edithandleButton={props.tablehandleButton} />}\n                        >\n                        </ModalLayout>\n                        <ModalLayout \n                            deletemodalstate={props.tablemodalstate}\n                            deletehandleModal={props.tablehandleModal}\n                            buttonLocation='right' \n                            buttonName='Remove' \n                            icon='trash' \n                            title='Delete user'\n                            modalContent={<ModalContent text='Are you sure you want to delete this account?'/>}\n                            modalActions={<ModalAction deletehandleButton={props.tablehandleButton}/>}\n                        >\n                        </ModalLayout>\n                    </Table.Cell>\n                </Table.Row>\n            ))}\n            </Table.Body>\n        </Table>\n    );\n}\n\n/*\ntablemodalstate={modalstate}\n            tablehandleModal={handleModal}\n            tablehandleButton={handleButton}\n            tableinputchange={handleInput}\n            tablecheckboxchange={handleCheckBox}\n            tableuser={user}\n*/"]},"metadata":{},"sourceType":"module"}