{"ast":null,"code":"import React from \"react\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport SignInLayout from '../components/SignInLayout';\nimport MyGrid from '../components/MyGrid';\nimport { Form, Button } from 'semantic-ui-react';\nimport { useState } from 'react';\nimport axios from 'axios';\nimport router from 'next/router';\nexport default (props => {\n  const {\n    0: message,\n    1: setMessage\n  } = useState({\n    header: '',\n    color: '',\n    body: 'Not registered yet? Contact your admin at email@example.com to create your account.'\n  });\n  const {\n    0: login,\n    1: setLogin\n  } = useState({\n    user: '',\n    password: ''\n  });\n\n  const handleSubmit = async event => {\n    event.preventDefault();\n\n    try {\n      let response = await axios.post('/login', login);\n      console.log(parse.JSON(response.config.data)); //router.push({ pathname: response.data.redirectUrl})\n    } catch (e) {\n      if (e.response.status === 401) {\n        setMessage(...message, ...{\n          body: 'Incorrect user or password'\n        });\n      } else {\n        console.log(e.response);\n      }\n    } //need to send the admin flag to users\n    //done after data is sent for authentication\n    ///this clears object\n\n\n    setLogin({\n      user: '',\n      password: ''\n    });\n  };\n\n  const handleLoginChange = event => {\n    let newObj = {\n      [event.target.name]: event.target.value\n    }; ///this will not override the data that already exists in obj login\n\n    setLogin(_objectSpread({}, login, {}, newObj));\n  };\n\n  return __jsx(SignInLayout, null, __jsx(MyGrid, {\n    columnNum: 2,\n    header: \"Login\",\n    body: message.body,\n    color: message.color,\n    header: message.header\n  }, __jsx(Form, {\n    size: \"large\"\n  }, __jsx(Form.Input, {\n    fluid: true,\n    icon: \"user\",\n    iconPosition: \"left\",\n    placeholder: \"Username\",\n    onChange: handleLoginChange,\n    name: \"user\",\n    type: \"text\",\n    value: login.user\n  }), __jsx(Form.Input, {\n    fluid: true,\n    icon: \"lock\",\n    iconPosition: \"left\",\n    placeholder: \"Password\",\n    type: \"password\",\n    onChange: handleLoginChange,\n    name: \"password\",\n    value: login.password\n  }), __jsx(Button, {\n    type: \"submit\",\n    size: \"large\",\n    onClick: handleSubmit\n  }, \"Log In\"))));\n});","map":{"version":3,"sources":["/Users/meatripoli/ClassWork/FinalProject/pages/login.js"],"names":["SignInLayout","MyGrid","Form","Button","useState","axios","router","props","message","setMessage","header","color","body","login","setLogin","user","password","handleSubmit","event","preventDefault","response","post","console","log","parse","JSON","config","data","e","status","handleLoginChange","newObj","target","name","value"],"mappings":"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","sourcesContent":["import SignInLayout from '../components/SignInLayout';\nimport MyGrid from '../components/MyGrid';\nimport {Form, Button} from 'semantic-ui-react';\nimport { useState } from 'react';\nimport axios from 'axios';\nimport router from 'next/router'\n\nexport default (props) => {\n  const [message,setMessage]=useState({\n    header:'',\n    color:'',\n    body:'Not registered yet? Contact your admin at email@example.com to create your account.'\n  })\n  const [login,setLogin] = useState({\n    user: '',\n    password: ''\n  })\n  const handleSubmit = async (event)=>{\n    event.preventDefault();\n    try{\n      let response = await axios.post('/login',login)\n      console.log(parse.JSON(response.config.data));\n      //router.push({ pathname: response.data.redirectUrl})\n    }\n    catch(e){\n      if(e.response.status===401){\n        setMessage(...message,...{body:'Incorrect user or password'})\n      }\n      else{\n        console.log(e.response)\n      }\n    }\n    \n    \n    //need to send the admin flag to users\n    \n    //done after data is sent for authentication\n    ///this clears object\n    setLogin({\n      user: '',\n      password: ''\n    });\n  };\n  const handleLoginChange = (event)=>{\n    let newObj = {[event.target.name]: event.target.value};\n    ///this will not override the data that already exists in obj login\n    setLogin({...login,...newObj});\n  }\n\n  return (<SignInLayout>\n    <MyGrid \n        columnNum = {2} \n        header='Login'\n        body={message.body}\n        color={message.color}\n        header={message.header}\n    >\n        <Form size=\"large\">\n            <Form.Input\n                fluid\n                icon=\"user\"\n                iconPosition=\"left\"\n                placeholder=\"Username\"\n                onChange={handleLoginChange}\n                name='user'\n                type='text'\n                value={login.user}\n            />\n            <Form.Input\n                fluid\n                icon=\"lock\"\n                iconPosition=\"left\"\n                placeholder=\"Password\"\n                type=\"password\"\n                onChange={handleLoginChange}\n                name='password'\n                value={login.password}\n            />\n            <Button type='submit' size=\"large\" onClick={handleSubmit}>Log In</Button>\n        </Form>\n    </MyGrid>\n  </SignInLayout>);\n};"]},"metadata":{},"sourceType":"module"}