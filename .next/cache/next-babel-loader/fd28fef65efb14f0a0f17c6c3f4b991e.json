{"ast":null,"code":"import React from \"react\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport InternalLayout from '../components/InternalLayout';\nimport TableTemplate from '../components/TableTemplate';\nimport ModalLayout from '../components/ModalLayout';\nimport { Table, Button, Icon } from 'semantic-ui-react';\nimport { useEffect, useState } from 'react';\nimport axios from 'axios';\nexport default (props => {\n  const loadingData = [{\n    id: 0,\n    user: 'Loading',\n    adminflag: 'Loading',\n    password: 'Loading'\n  }];\n  const {\n    0: data,\n    1: setData\n  } = useState(loadingData); ///when first loading pull all the users from database and display them\n  //const tableData = data.length===0? loadingData:data\n\n  useEffect(() => {\n    axios.get('/api/users').then(res => {\n      let thepassword = {\n        password: '******'\n      };\n      let theadminflag = {\n        adminflag: res.data.adminflag ? 'y' : 'n'\n      };\n      setData([_objectSpread({}, res.data, {}, theadminflag, {}, thepassword)]);\n    }).catch(err => console.log('Error:', err));\n  }, []); //to edit user info click on name and a pop up will ask you \n\n  const mymodal = (text, rowdata) => __jsx(React.Fragment, null, text, __jsx(ModalLayout, {\n    buttonLocation: \"right\",\n    buttonName: \"Remove\",\n    icon: \"trash\",\n    title: \"Delete user\",\n    modalContent: __jsx(\"p\", null, `Are you sure you want to delete account?`),\n    modalActions: __jsx(\"p\", null, `OK`),\n    current: rowdata\n  }));\n\n  let headerData = [{\n    tableHeaderName: 'user',\n    name: 'Username',\n    clickFunction: 'handleUserClick',\n    haschildren: false,\n    children: ''\n  }, {\n    tableHeaderName: 'password',\n    name: 'Password',\n    clickFunction: 'handlePasswordClick',\n    haschildren: false,\n    children: ''\n  }, {\n    tableHeaderName: 'adminflag',\n    name: 'AdminFlag',\n    clickFunction: 'handleAdminClick',\n    haschildren: true,\n    children: mymodal\n  }]; ///need body info\n\n  console.log(data);\n  let tableData = [{\n    user: 'maria',\n    password: '******',\n    adminflag: 'n',\n    id: 2\n  }, {\n    user: 'admin',\n    password: '******',\n    adminflag: 'y',\n    id: 1\n  }];\n  console.log('inside /dogs', props);\n  return __jsx(React.Fragment, null, __jsx(InternalLayout, {\n    adminFlag: \"y\"\n  }), __jsx(TableTemplate, {\n    header: headerData,\n    table: tableData\n  }));\n});","map":{"version":3,"sources":["/Users/meatripoli/ClassWork/FinalProject/pages/dogs.js"],"names":["InternalLayout","TableTemplate","ModalLayout","Table","Button","Icon","useEffect","useState","axios","props","loadingData","id","user","adminflag","password","data","setData","get","then","res","thepassword","theadminflag","catch","err","console","log","mymodal","text","rowdata","headerData","tableHeaderName","name","clickFunction","haschildren","children","tableData"],"mappings":"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","sourcesContent":["import InternalLayout from '../components/InternalLayout';\nimport TableTemplate from '../components/TableTemplate';\nimport ModalLayout from '../components/ModalLayout';\nimport { Table, Button, Icon } from 'semantic-ui-react';\nimport {useEffect,useState} from 'react';\nimport axios from 'axios';\n\n\nexport default (props) => {\n    const loadingData =[{\n        id:0,\n        user:'Loading',\n        adminflag:'Loading',\n        password:'Loading'\n    }]\n    const [data,setData] = useState(loadingData);\n    ///when first loading pull all the users from database and display them\n    //const tableData = data.length===0? loadingData:data\n    useEffect(() => {\n        axios.get('/api/users')\n        .then(res => {\n            let thepassword={password: '******'}\n            let theadminflag = {adminflag: res.data.adminflag?'y':'n'}\n            setData([{...res.data,...theadminflag,...thepassword}]);\n        })\n        .catch(err => console.log('Error:',err))\n    },[]);\n    //to edit user info click on name and a pop up will ask you \n    const mymodal = (text,rowdata) => <>\n        {text}\n        <ModalLayout \n            buttonLocation='right' \n            buttonName='Remove' \n            icon='trash' \n            title='Delete user'\n            modalContent={<p>{`Are you sure you want to delete account?`}</p>}\n            modalActions={<p>{`OK`}</p>}\n            current={rowdata}\n        /></>\n    let headerData = [{\n        tableHeaderName:'user',\n        name: 'Username',\n        clickFunction: 'handleUserClick',\n        haschildren: false,\n        children: ''\n    },\n    {\n        tableHeaderName:'password',\n        name: 'Password',\n        clickFunction: 'handlePasswordClick',\n        haschildren: false,\n        children: ''\n    },\n    {\n        tableHeaderName:'adminflag',\n        name: 'AdminFlag',\n        clickFunction: 'handleAdminClick',\n        haschildren: true,\n        children: mymodal\n    }]\n    \n    ///need body info\n    console.log(data)\n    let tableData = [\n        { user: 'maria',password: '******', adminflag: 'n' ,id: 2 },\n        { user: 'admin',password: '******',adminflag: 'y' ,id: 1 }\n    ]\n    console.log('inside /dogs',props)\n    return <><InternalLayout adminFlag='y'/><TableTemplate header={headerData} table={tableData}></TableTemplate></>\n}"]},"metadata":{},"sourceType":"module"}